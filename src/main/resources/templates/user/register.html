<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<title>Đăng ký</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<div th:replace="user/fragments/head :: head"></div>
	<style>
		.ft__logo a img {
			max-width: 20%;
		}
	</style>
</head>

<body>
	<!-- Main wrapper -->
	<div class="wrapper" id="wrapper">
		<!-- Header -->
		<header th:replace="user/fragments/header :: header"></header>
		<!-- //Header -->

		<!-- Start My Account Area -->
		<section class="my_account_area pt--80 pb--55 bg--white">
			<div class="container mt--100">
				<div class="row justify-content-center">
					<div class="col-lg-6 col-12">
						<div class="my__account__wrapper">
							<h3 class="account__title text-center">Đăng ký tài khoản</h3>
							<form th:action="@{/register}" method="post" th:object="${user}"
								onsubmit="return validateForm()">
								<div th:if="${error}">
									<div class="alert alert-danger" role="alert">
										<span th:text="${error}"></span>
									</div>
								</div>

								<div class="account__form">
									<div class="input__box">
										<label>Họ và tên<span>*</span></label>
										<input type="text" th:field="*{fullName}" />
									</div>
									<div class="input__box">
										<label>Email<span>*</span></label>
										<input type="email" th:field="*{email}" />
									</div>
									<div class="input__box">
										<label>Số điện thoại<span>*</span></label>
										<input type="tel" th:field="*{phoneNumber}" />
									</div>
									<div class="input__box">
										<label>Mật khẩu<span>*</span></label>
										<input id="password" type="password" th:field="*{password}" />
									</div>
									<div class="input__box">
										<label>Nhập lại mật khẩu<span>*</span></label>
										<input type="password" id="confirmPassword" name="confirmPassword" />
									</div>
									<div class="form__btn text-center">
										<button type="submit">Đăng ký</button>
									</div>
									<a class="forget_pass" th:href="@{/login}">Bạn đã có tài khoản?</a>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</section>
		<!-- End My Account Area -->
		<!-- Footer Area -->
		<footer th:replace="user/fragments/footer :: footer"></footer>
		<!-- //Footer Area -->
		<script>
			function validateForm() {
				var email = document.getElementById("email").value;
				var phoneNumber = document.getElementById("phoneNumber").value;
				var password = document.getElementById("password").value;
				var confirmPassword = document.getElementById("confirmPassword").value;

				if (email === "" || phoneNumber === "" || password === "" || confirmPassword === "") {
					alert("Vui lòng điền đủ thông tin");
					return false;
				}

				if (password !== confirmPassword) {
					alert("Mật khẩu không trùng nhau!");
					return false;
				}

				var phoneRegex = /^[0-9]{10}$/;
				if (!phoneRegex.test(phoneNumber)) {
					alert("Số điện thoại không hợp lệ");
					return false;
				}

				var emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
				if (!emailRegex.test(email)) {
					alert("Email không hợp lệ");
					return false;
				}

				return true;
			}
		</script>
	</div>
	<!-- //Main wrapper -->
	<!-- JS Files -->
	<script th:src="@{/js/user/vendor/jquery-3.2.1.min.js}"></script>
	<script th:src="@{/js/user/popper.min.js}"></script>
	<script th:src="@{/js/user/bootstrap.min.js}"></script>
	<script th:src="@{/js/user/plugins.js}"></script>
	<script th:src="@{/js/user/active.js}"></script>
	<script th:src="@{/vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>
	<!-- Vendor JS Files -->
</body>

</html>